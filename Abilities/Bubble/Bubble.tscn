[gd_scene load_steps=10 format=3 uid="uid://dgnvfobhg4s45"]

[ext_resource type="Script" path="res://Abilities/Bubble/Bubble.gd" id="1_xai60"]
[ext_resource type="Material" uid="uid://nwsp6oswins6" path="res://Abilities/Bubble/BubbleShader1.tres" id="2_ncx6d"]
[ext_resource type="Material" uid="uid://xfcvv3cm87g5" path="res://Abilities/Bubble/BubbleMaterial.tres" id="2_pfi2h"]

[sub_resource type="SphereMesh" id="SphereMesh_eamsl"]
material = ExtResource("2_ncx6d")
radius = 1.25
height = 2.5

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_rwir2"]
points = PackedVector3Array(-0.136702, -0.733777, -0.0678658, 0.138347, 0.73325, 0.0694166, 0.183613, 0.708207, 0.160676, -0.659862, 0.0910587, 0.342484, -0.227739, 0.0913405, -0.70759, 0.686406, -0.159915, 0.252197, 0.023667, -0.137607, 0.735278, 0.570112, -0.0910151, -0.477386, -0.683734, 0.136794, -0.272931, 0.475568, 0.452017, -0.360729, -0.294351, 0.658308, -0.203419, -0.0447118, 0.455314, 0.592765, 0.387558, -0.614159, 0.182668, -0.406883, -0.543518, 0.317746, -0.113061, -0.500861, -0.545711, 0.543184, 0.316223, 0.407473, -0.635044, -0.340549, -0.203472, 0.453468, -0.54318, -0.248034, -0.452086, 0.543442, 0.249753, 0.0690919, 0.455, -0.590757, 0.685906, 0.29685, -0.0448362, 0.229176, -0.0912752, -0.707083, 0.183016, -0.546541, 0.479005, -0.386916, 0.0455795, 0.639341, 0.342874, -0.0682871, 0.662099, -0.454106, -0.181813, -0.567721, -0.428671, 0.361552, -0.496422, 0.710234, -0.228786, -0.0677212, -0.637695, 0.387536, -0.0674794, -0.683379, -0.228015, 0.205956, -0.338399, -0.316467, 0.588687, 0.249813, -0.543466, -0.452017)

[sub_resource type="Curve" id="Curve_omm4o"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_3xps6"]
curve = SubResource("Curve_omm4o")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6f6bm"]
scale_curve = SubResource("CurveTexture_3xps6")

[sub_resource type="SphereMesh" id="SphereMesh_ayhfb"]
material = ExtResource("2_pfi2h")
radius = 1.0
height = 2.0

[node name="Bubble" type="Area3D"]
script = ExtResource("1_xai60")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("SphereMesh_eamsl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("ConvexPolygonShape3D_rwir2")

[node name="Expiration" type="Timer" parent="."]
wait_time = 3.0
one_shot = true
autostart = true

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
visible = false
lifetime = 0.2
speed_scale = 2.0
process_material = SubResource("ParticleProcessMaterial_6f6bm")
draw_pass_1 = SubResource("SphereMesh_ayhfb")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
light_color = Color(0, 1, 0.290196, 1)

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="timeout" from="Expiration" to="." method="_on_expiration_timeout"]
